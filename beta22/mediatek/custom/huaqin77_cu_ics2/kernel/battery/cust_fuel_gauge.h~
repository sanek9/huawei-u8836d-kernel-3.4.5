#include <mach/mt6577_typedefs.h>
#ifdef HQ_PROJECT_A52_HUAWEI
#define BATTERY_CAPACITY_1350
#endif

#ifdef HQ_PROJECT_A61P_HUAWEI
#define BATTERY_CAPACITY_2000
#endif

#define FGAUGE_VOLTAGE_FACTOR           2.44 // mV
#define FGAUGE_CURRENT_FACTOR           6.25 // uV/Rsns
#define FGAUGE_CURRENT_OFFSET_FACTOR    1.56 // uV/Rsns
#define FGAUGE_CAR_FACTOR               6.25 // uV/Rsns
#define FGAUGE_RSNS_FACTOR              0.02 // Ohm

//#define COMPASATE_OCV                   80 // mV for evb
#define COMPASATE_OCV                   40 // mV for phone

#define BATTERY_VOLTAGE_MINIMUM         3400
#define BATTERY_VOLTAGE_MAXIMUM         4200

#ifdef BATTERY_CAPACITY_1350
#define BATTERY_CAPACITY_MAXIMUM        1390
#elif defined(BATTERY_CAPACITY_2000)
#define BATTERY_CAPACITY_MAXIMUM        2055
#else
#define BATTERY_CAPACITY_MAXIMUM        1135
#endif

#define TEMPERATURE_T0                  110
#define TEMPERATURE_T1                  0
#define TEMPERATURE_T2                  25
#define TEMPERATURE_T3                  50
#define TEMPERATURE_T                   255 // This should be fixed, never change the value

//#define BATT_CAPACITY                   1280
#ifdef BATTERY_CAPACITY_1350
#define BATT_CAPACITY                   1224
#elif defined(BATTERY_CAPACITY_2000)
#define BATT_CAPACITY                   2038
#else
#define BATT_CAPACITY                   1135
#endif

#define ENABLE_SW_COULOMB_COUNTER       0 // 1 is enable, 0 is disable
//#define ENABLE_SW_COULOMB_COUNTER       1 // 1 is enable, 0 is disable

//#define FG_CURRENT_OFFSET_DISCHARGING 	31
#define FG_CURRENT_OFFSET_DISCHARGING 	0

#define FG_RESISTANCE 	20

#define FG_METER_RESISTANCE 	0
//#define FG_METER_RESISTANCE 	540 // current meter

//#define MAX_BOOTING_TIME_FGCURRENT	5*6 // 5 seconds, 6 points = 1s
#define MAX_BOOTING_TIME_FGCURRENT	1*10 // 10s

#if defined(CONFIG_POWER_EXT)
//#define OCV_BOARD_COMPESATE	32 //mV 
#define OCV_BOARD_COMPESATE	72 //mV 
#define R_FG_BOARD_BASE		1000
#define R_FG_BOARD_SLOPE	1000 //slope
#else
//#define OCV_BOARD_COMPESATE	0 //mV 
//#define OCV_BOARD_COMPESATE	48 //mV 
//#define OCV_BOARD_COMPESATE	25 //mV 
#define OCV_BOARD_COMPESATE	0 //mV 
#define R_FG_BOARD_BASE		1000
#define R_FG_BOARD_SLOPE	1000 //slope
//#define R_FG_BOARD_SLOPE	1057 //slope
//#define R_FG_BOARD_SLOPE	1075 //slope
#endif

#ifdef BATTERY_CAPACITY_1350
#define Q_MAX_POS_50	1390
#define Q_MAX_POS_25	1224
#define Q_MAX_POS_0		1091
#define Q_MAX_NEG_10	922

#define Q_MAX_POS_50_H_CURRENT	1362
#define Q_MAX_POS_25_H_CURRENT	1203
#define Q_MAX_POS_0_H_CURRENT	975
#define Q_MAX_NEG_10_H_CURRENT	680
#elif defined(BATTERY_CAPACITY_2000)
#define Q_MAX_POS_50	2055
#define Q_MAX_POS_25	2038
#define Q_MAX_POS_0		1896
#define Q_MAX_NEG_10	1536

#define Q_MAX_POS_50_H_CURRENT	2040
#define Q_MAX_POS_25_H_CURRENT	2022
#define Q_MAX_POS_0_H_CURRENT	1835
#define Q_MAX_NEG_10_H_CURRENT	1423
#else
#define Q_MAX_POS_50	1965
#define Q_MAX_POS_25	1984
#define Q_MAX_POS_0		1946
#define Q_MAX_NEG_10	1873

#define Q_MAX_POS_50_H_CURRENT	1951
#define Q_MAX_POS_25_H_CURRENT	1969
#define Q_MAX_POS_0_H_CURRENT	1913
#define Q_MAX_NEG_10_H_CURRENT	1782

#endif

#define R_FG_VALUE 				20 // mOhm, base is 20
#define CURRENT_DETECT_R_FG	100  //10mA

#define OSR_SELECT_7			0

#ifdef BATTERY_CAPACITY_1350
#define CAR_TUNE_VALUE			100
#elif defined(BATTERY_CAPACITY_2000)
#define CAR_TUNE_VALUE			100 //1.00
#else
#define CAR_TUNE_VALUE			100 //1.00
#endif
/////////////////////////////////////////////////////////////////////
// <DOD, Battery_Voltage> Table
/////////////////////////////////////////////////////////////////////
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// T0 -10C
#ifdef BATTERY_CAPACITY_1350
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0  , 4167},		   
	{2  , 4150},		   
	{4  , 4123},		   
	{7  , 4093},		   
	{9  , 4061},		   
	{11 , 4019},		   
	{13 , 3978},		   
	{15 , 3963},		   
	{17 , 3951},		   
	{20 , 3940},		   
	{22 , 3929},		   
	{24 , 3916},		   
	{26 , 3903},		   
	{28 , 3889},		   
	{30 , 3877},		   
	{32 , 3867},		   
	{35 , 3857},		   
	{37 , 3849},		   
	{39 , 3842},		   
	{41 , 3834},		   
	{43 , 3828},		   
	{45 , 3822},		   
	{48 , 3815},		   
	{50 , 3810},		   
	{52 , 3805},		   
	{54 , 3800},		   
	{56 , 3795},		   
	{58 , 3791},		   
	{61 , 3786},		   
	{63 , 3783},		   
	{65 , 3780},		   
	{67 , 3775},		   
	{69 , 3770},		   
	{71 , 3764},		   
	{74 , 3757},		   
	{76 , 3748},		   
	{78 , 3737},		   
	{80 , 3727},		   
	{82 , 3718},		   
	{84 , 3712},		   
	{87 , 3707},		   
	{89 , 3703},		   
	{91 , 3698},		   
	{93 , 3688},		   
	{95 , 3671},		   
	{96 , 3655},		   
	{97 , 3640},		   
	{98 , 3628},		   
	{98 , 3617},		   
	{99 , 3609},		   
	{99 , 3602},		   
	{99 , 3597},		   
	{99 , 3592},		   
	{99 , 3588},		   
	{99 , 3585},		   
	{99 , 3582},		   
	{99 , 3580},		   
	{100 , 3578},		   
	{100 , 3575},		   
	{100 , 3573},		   
	{100 , 3571},		   
	{100 , 3570},		   
	{100 , 3568}		   
};
#elif defined(BATTERY_CAPACITY_2000)
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0	, 4177},
	{2  , 4162},
	{4  , 4148},
	{6  , 4124},
	{8  , 4084},
	{10 , 4053},
	{12 , 4025},
	{14 , 4001},
	{16 , 3986},
	{18 , 3975},
	{19 , 3965},
	{21 , 3955},
	{23 , 3944},
	{25 , 3932},
	{27 , 3920},
	{29 , 3907},
	{31 , 3894},
	{33 , 3884},
	{35 , 3874},
	{37 , 3865},
	{39 , 3857},
	{41 , 3849},
	{43 , 3842},
	{45 , 3836},
	{47 , 3829},
	{49 , 3824},
	{51 , 3819},
	{52 , 3813},
	{54 , 3807},
	{56 , 3802},
	{58 , 3797},
	{60 , 3791},
	{62 , 3787},
	{64 , 3782},
	{66 , 3776},
	{68 , 3772},
	{70 , 3768},
	{72 , 3762},
	{74 , 3756},
	{76 , 3751},
	{78 , 3744},
	{80 , 3736},
	{82 , 3729},
	{84 , 3721},
	{85 , 3714},
	{87 , 3708},
	{89 , 3703},
	{91 , 3692},
	{93 , 3672},
	{95 , 3634},
	{97 , 3570},
	{99 , 3499},
	{99 , 3472},
	{99 , 3458},
	{100, 3450},
	{100, 3444},
	{100, 3439},
	{100, 3436},
	{100, 3433},
	{100, 3430},
	{100, 3428},
	{100, 3427},
	{100, 3426},
	{100, 3424},
	{100, 3423},
	{100, 3422},
	{100, 3421},
	{100, 3419},
	{100, 3418},
	{100, 3400}	   
};

#else
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0  , 4165},
	{2  , 4138},
	{3  , 4116},
	{5  , 4099},
	{6  , 4086},
	{8  , 4073},
	{10 , 4058},
	{11 , 4042},
	{13 , 4027},
	{14 , 4013},
	{16 , 4000},
	{18 , 3989},
	{19 , 3981},
	{21 , 3972},
	{22 , 3963},
	{24 , 3955},
	{26 , 3944},
	{27 , 3936},
	{29 , 3926},
	{30 , 3915},
	{32 , 3904},
	{34 , 3891},
	{35 , 3878},
	{37 , 3867},
	{38 , 3858},
	{40 , 3848},
	{42 , 3840},
	{43 , 3833},  
	{45 , 3828}, 
	{46 , 3823},
	{48 , 3816},
	{50 , 3811},  
	{51 , 3807},
	{53 , 3803},
	{54 , 3801},
	{56 , 3797},
	{58 , 3795},
	{59 , 3791},
	{61 , 3788},
	{62 , 3787},
	{64 , 3784},
	{66 , 3783},
	{67 , 3782},
	{69 , 3781},
	{70 , 3780},
	{72 , 3777},
	{74 , 3773},
	{75 , 3769},
  {77 , 3764},
  {78 , 3758},
  {80 , 3749},
  {81 , 3740},
  {83 , 3730},
  {85 , 3719},
  {86 , 3713},
  {88 , 3708},
  {89 , 3703},
  {91 , 3701},
  {93 , 3698},
  {94 , 3688},
  {96 , 3655},
  {97 , 3587},
  {98 , 3534},
  {99 , 3502},
  {99 , 3479},
  {99 , 3461},
  {100, 3446},
  {100, 3436},
  {100, 3429},
  {100, 3421},
  {100, 3417},
  {100, 3411},
  {100, 3407},
  {100, 3406},
  {100, 3403},
  {100, 3401},
  {100, 3399}
};      
#endif

// T1 0C
#ifdef BATTERY_CAPACITY_1350
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0  , 4173},	
	{2  , 4152},	
	{4  , 4113},	
	{5  , 4076},	
	{7  , 4051},	
	{9  , 4026},	
	{11 , 4006},	
	{13 , 3989},	
	{15 , 3976},	
	{16 , 3967},	
	{18 , 3958},	
	{20 , 3950},	
	{22 , 3939},	
	{24 , 3927},	
	{26 , 3914},	
	{27 , 3899},	
	{29 , 3886},	
	{31 , 3873},	
	{33 , 3862},	
	{35 , 3852},	
	{37 , 3843},	
	{38 , 3836},	
	{40 , 3828},	
	{42 , 3822},	
	{44 , 3816},	
	{46 , 3811},	
	{48 , 3806},	
	{49 , 3800},	
	{51 , 3797},	
	{53 , 3793},	
	{55 , 3789},	
	{57 , 3787},	
	{59 , 3785},	
	{60 , 3784},	
	{62 , 3784},	
	{64 , 3782},	
	{66 , 3781},	
	{68 , 3778},	
	{69 , 3776},	
	{71 , 3774},	
	{73 , 3770},	
	{75 , 3765},	
	{77 , 3758},	
	{79 , 3751},	
	{80 , 3742},	
	{82 , 3731},	
	{84 , 3716},	
	{86 , 3706},	
	{88 , 3698},	
	{90 , 3691},	
	{91 , 3680},	
	{93 , 3665},	
	{95 , 3636},	
	{97 , 3601},	
	{98 , 3583},	
	{98 , 3570},	
	{99 , 3561},	
	{99 , 3554},	
	{99 , 3548},	
	{99 , 3544},	
	{99 , 3540},	
	{99 , 3536},	
	{100, 3533}	
};
#elif defined(BATTERY_CAPACITY_2000)
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
  {0  , 4172},
  {2  , 4144},
  {3  , 4117},
  {5  , 4094},
  {6  , 4078},
  {8  , 4061},
  {9  , 4041},
  {11 , 4023},
  {13 , 4006},
  {14 , 3995},
  {16 , 3986},
  {17 , 3978},
  {19 , 3970},
  {20 , 3961},
  {22 , 3951},
  {24 , 3943},
  {25 , 3934},
  {27 , 3925},
  {28 , 3916},
  {30 , 3906},
  {31 , 3895},
  {33 , 3884},
  {35 , 3872},
  {36 , 3861},
  {38 , 3852},
  {39 , 3842},
  {41 , 3836},
  {43 , 3829},
  {44 , 3824},
  {46 , 3819},
  {47 , 3813},
  {49 , 3807},
  {50 , 3804},
  {52 , 3800},
  {54 , 3797},
  {55 , 3794},
  {57 , 3791},
  {58 , 3787},
  {60 , 3785},
  {61 , 3783},
  {63 , 3780},
  {65 , 3778},
  {66 , 3775},
  {68 , 3774},
  {69 , 3771},
  {71 , 3768},
  {72 , 3765},
  {74 , 3761},
  {76 , 3757},
  {77 , 3753},
  {79 , 3748},
  {80 , 3742},
  {82 , 3736},
  {83 , 3730},
  {85 , 3722},
  {87 , 3714},
  {88 , 3705},
  {90 , 3700},
  {91 , 3697},
  {93 , 3691},
  {94 , 3676},
  {96 , 3636},
  {98 , 3571},
  {99 , 3491},
  {99 , 3455},
  {100, 3431},
  {100, 3413},
  {100, 3400},
  {100, 3400},
  {100, 3400}
};
#else
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0  , 4177},
	{2  , 4157},
	{3  , 4142},
	{5  , 4125},
	{6  , 4111},
	{8  , 4097},
	{9  , 4085},
	{11 , 4073},
	{12 , 4060},
	{14 , 4046},
	{15 , 4031},
	{17 , 4018},
	{18 , 4005},
	{20 , 3994},
	{22 , 3986},
	{23 , 3978},
	{25 , 3968},
	{26 , 3958},
	{28 , 3951},
	{29 , 3941},
	{31 , 3932},
	{32 , 3922},
	{34 , 3912},
	{35 , 3902},
	{37 , 3890},
	{38 , 3876},
	{40 , 3863},
	{42 , 3853},  
	{43 , 3846}, 
	{45 , 3837},
	{46 , 3830},
	{48 , 3824},  
	{49 , 3818},
	{51 , 3813},
	{52 , 3808},
	{54 , 3805},
	{55 , 3800},
	{57 , 3798},
	{58 , 3793},
	{60 , 3791},
	{62 , 3788},
	{63 , 3787},
	{65 , 3784},
	{66 , 3783},
	{68 , 3781},
	{69 , 3780},
	{71 , 3780},
	{72 , 3778},
  {74 , 3776},
  {75 , 3772},
  {77 , 3766},
  {78 , 3761},
  {80 , 3752},
  {82 , 3744},
  {83 , 3733},
  {85 , 3723},
  {86 , 3711},
  {88 , 3704},
  {89 , 3701},
  {91 , 3699},
  {92 , 3697},
  {94 , 3693},
  {95 , 3677},
  {97 , 3623},
  {98 , 3538},
  {100, 3407},
  {100, 3362},
  {100, 3338},
  {100, 3327},
  {100, 3319},
  {100, 3316},
  {100, 3312},
  {100, 3311},
  {100, 3309},
  {100, 3309},
  {100, 3307},
  {100, 3305}
};
#endif

// T2 25C
#ifdef BATTERY_CAPACITY_1350
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0  , 4182},	
	{2  , 4165},	
	{3  , 4149},	
	{5  , 4134},	
	{7  , 4119},	
	{8  , 4104},	
	{10 , 4091},	
	{11 , 4079},	
	{13 , 4068},	
	{15 , 4055},	
	{16 , 4038},	
	{18 , 4020},	
	{20 , 4006},	
	{21 , 3994},	
	{23 , 3984},	
	{24 , 3974},	
	{26 , 3964},	
	{28 , 3952},	
	{29 , 3941},	
	{31 , 3928},	
	{33 , 3914},	
	{34 , 3899},	
	{36 , 3884},	
	{38 , 3871},	
	{39 , 3860},	
	{41 , 3850},	
	{42 , 3842},	
	{44 , 3833},	
	{46 , 3826},	
	{47 , 3820},	
	{49 , 3814},	
	{51 , 3807},	
	{52 , 3803},	
	{54 , 3798},	
	{55 , 3793},	
	{57 , 3788},	
	{59 , 3786},	
	{60 , 3782},	
	{62 , 3778},	
	{64 , 3776},	
	{65 , 3775},	
	{67 , 3773},	
	{68 , 3771},	
	{70 , 3768},	
	{72 , 3766},	
	{73 , 3762},	
	{75 , 3756},	
	{77 , 3751},	
	{78 , 3744},	
	{80 , 3738},	
	{82 , 3728},	
	{83 , 3716},	
	{85 , 3702},	
	{86 , 3690},	
	{88 , 3688},	
	{90 , 3683},	
	{91 , 3675},	
	{93 , 3660},	
	{95 , 3634},	
	{96 , 3596},	
	{98 , 3544},	
	{99 , 3454},	
	{100, 3400} 
};
#elif defined(BATTERY_CAPACITY_2000)
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	  {0  , 4183},
	  {1  , 4164},
	  {3  , 4148},
	  {4  , 4133},
	  {6  , 4118},
	  {7  , 4104},
	  {9  , 4091},
	  {10 , 4078},
	  {12 , 4066},
	  {13 , 4053},
	  {15 , 4040},
	  {16 , 4026},
	  {18 , 4014},
	  {19 , 4003},
	  {21 , 3993},
	  {22 , 3983},
	  {23 , 3973},
	  {25 , 3964},
	  {26 , 3955},
	  {28 , 3945},
	  {29 , 3936},
	  {31 , 3928},
	  {32 , 3919},
	  {34 , 3911},
	  {35 , 3901},
	  {37 , 3892},
	  {38 , 3881},
	  {40 , 3867},
	  {41 , 3856},
	  {42 , 3846},
	  {44 , 3837},
	  {45 , 3831},
	  {47 , 3824},
	  {48 , 3819},
	  {50 , 3813},
	  {51 , 3809},
	  {53 , 3804},
	  {54 , 3800},
	  {56 , 3796},
	  {57 , 3793},
	  {59 , 3790},
	  {60 , 3787},
	  {62 , 3784},
	  {63 , 3781},
	  {64 , 3779},
	  {66 , 3777},
	  {67 , 3775},
	  {69 , 3773},
	  {70 , 3769},
	  {72 , 3763},
	  {73 , 3759},
	  {75 , 3753},
	  {76 , 3748},
	  {78 , 3744},
	  {79 , 3739},
	  {81 , 3735},
	  {82 , 3729},
	  {83 , 3723},
	  {85 , 3715},
	  {86 , 3710},
	  {88 , 3701},
	  {89 , 3691},
	  {91 , 3687},
	  {92 , 3685},
	  {94 , 3680},
	  {95 , 3665},
	  {97 , 3620},
	  {98 , 3551},
	  {99 , 3446},
	  {100, 3400}
};
#else
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0  , 4189},
	{2  , 4171},
	{3  , 4157},
	{5  , 4142},
	{6  , 4127},
	{8  , 4113},
	{9  , 4100},
	{11 , 4086},
	{12 , 4073},
	{14 , 4061},
	{15 , 4049},
	{17 , 4036},
	{18 , 4024},
	{20 , 4013},
	{21 , 4003},
	{23 , 3992},
	{24 , 3980},
	{26 , 3972},
	{27 , 3962},
	{29 , 3952},
	{30 , 3943},
	{32 , 3934},
	{33 , 3926},
	{35 , 3917},
	{36 , 3908},
	{38 , 3900},
	{39 , 3887},
	{41 , 3873},  
	{42 , 3860}, 
	{44 , 3847},
	{45 , 3839},
	{47 , 3832},  
	{48 , 3826},
	{50 , 3820},
	{51 , 3813},
	{53 , 3809},
	{54 , 3804},
	{56 , 3800},
	{57 , 3797},
	{59 , 3793},
	{60 , 3789},
	{62 , 3787},
	{63 , 3784},
	{65 , 3782},
	{66 , 3778},
	{68 , 3777},
	{69 , 3774},
	{71 , 3771},
  {72 , 3767},
  {74 , 3764},
  {75 , 3758},
  {77 , 3753},
  {78 , 3747},
  {80 , 3740},
  {81 , 3734},
  {83 , 3723},
  {84 , 3713},
  {86 , 3701},
  {88 , 3690},
  {89 , 3688},
  {90 , 3686},
  {92 , 3685},
  {93 , 3680},
  {95 , 3668},
  {97 , 3626},
  {98 , 3557},
  {99 , 3454},
  {100, 3292},
  {100, 3268},
  {100, 3261},
  {100, 3257},
  {100, 3257},
  {100, 3256},
  {100, 3256},
  {100, 3256},
  {100, 3254},
  {100, 3253}
}; 
#endif

// T3 50C
#ifdef BATTERY_CAPACITY_1350
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0  , 4184},	
	{1  , 4167},	
	{3  , 4151},	
	{4  , 4135},	
	{6  , 4120},	
	{7  , 4105},	
	{9  , 4091},	
	{10 , 4077},	
	{12 , 4064},	
	{13 , 4051},	
	{14 , 4038},	
	{16 , 4024},	
	{17 , 4011},	
	{19 , 4000},	
	{20 , 3989},	
	{22 , 3978},	
	{23 , 3966},	
	{24 , 3956},	
	{26 , 3945},	
	{27 , 3936},	
	{29 , 3926},	
	{30 , 3917},	
	{32 , 3908},	
	{33 , 3899},	
	{34 , 3891},	
	{36 , 3882},	
	{37 , 3874},	
	{39 , 3866},	
	{40 , 3856},	
	{42 , 3845},	
	{43 , 3831},	
	{45 , 3819},	
	{46 , 3808},	
	{47 , 3800},	
	{49 , 3794},	
	{50 , 3789},	
	{52 , 3784},	
	{53 , 3780},	
	{55 , 3776},	
	{56 , 3774},	
	{57 , 3771},	
	{59 , 3769},	
	{60 , 3768},	
	{62 , 3767},	
	{63 , 3766},	
	{65 , 3766},	
	{66 , 3766},	
	{67 , 3765},	
	{69 , 3764},	
	{70 , 3763},	
	{72 , 3759},	
	{73 , 3751},	
	{75 , 3747},	
	{76 , 3744},	
	{78 , 3740},	
	{79 , 3733},	
	{80 , 3724},	
	{82 , 3714},	
	{83 , 3699},	
	{85 , 3677},	
	{86 , 3651},	
	{88 , 3622},	
	{100, 3400}
};
#elif defined(BATTERY_CAPACITY_2000)
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	  {0  , 4189},
	  {1  , 4170},
	  {3  , 4155},
	  {4  , 4139},
	  {6  , 4124},
	  {7  , 4110},
	  {9  , 4097},
	  {10 , 4083},
	  {12 , 4071},
	  {13 , 4058},
	  {15 , 4046},
	  {16 , 4033},
	  {17 , 4021},
	  {19 , 4010},
	  {20 , 3999},
	  {22 , 3988},
	  {23 , 3978},
	  {25 , 3967},
	  {26 , 3958},
	  {28 , 3948},
	  {29 , 3939},
	  {31 , 3930},
	  {32 , 3922},
	  {33 , 3913},
	  {35 , 3905},
	  {36 , 3896},
	  {38 , 3887},
	  {39 , 3875},
	  {41 , 3861},
	  {42 , 3848},
	  {44 , 3839},
	  {45 , 3832},
	  {46 , 3825},
	  {48 , 3820},
	  {49 , 3813},
	  {51 , 3809},
	  {52 , 3804},
	  {54 , 3800},
	  {55 , 3795},
	  {57 , 3792},
	  {58 , 3788},
	  {60 , 3784},
	  {61 , 3782},
	  {62 , 3779},
	  {64 , 3777},
	  {65 , 3774},
	  {67 , 3771},
	  {68 , 3769},
	  {70 , 3763},
	  {71 , 3754},
	  {73 , 3746},
	  {74 , 3741},
	  {76 , 3736},
	  {77 , 3730},
	  {78 , 3726},
	  {80 , 3722},
	  {81 , 3717},
	  {83 , 3712},
	  {84 , 3704},
	  {86 , 3697},
	  {87 , 3690},
	  {89 , 3681},
	  {90 , 3673},
	  {91 , 3672},
	  {93 , 3668},
	  {94 , 3660},
	  {96 , 3631},
	  {97 , 3577},
	  {99 , 3500},
	  {100, 3400}
};
#else
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0  , 4189},
	{2  , 4174},
	{3  , 4158},
	{5  , 4144},
	{6  , 4130},
	{8  , 4115},
	{9  , 4100},
	{11 , 4087},
	{12 , 4073},
	{14 , 4060},
	{15 , 4049},
	{17 , 4035},
	{18 , 4023},
	{20 , 4012},
	{21 , 4002},
	{23 , 3991},
	{24 , 3980},
	{26 , 3970},
	{27 , 3959},
	{29 , 3949},
	{30 , 3939},
	{32 , 3932},
	{33 , 3922},
	{35 , 3915},
	{37 , 3905},
	{38 , 3898},
	{40 , 3886},
	{41 , 3872},  
	{43 , 3859}, 
	{44 , 3846},
	{46 , 3838},
	{47 , 3830},  
	{49 , 3824},
	{50 , 3817},
	{52 , 3812},
	{53 , 3808},
	{55 , 3803},
	{56 , 3797},
	{58 , 3794},
	{59 , 3791},
	{61 , 3786},
	{62 , 3784},
	{64 , 3781},
	{65 , 3778},
	{67 , 3774},
	{69 , 3772},
	{70 , 3765},
	{72 , 3755},
  {73 , 3750},
  {75 , 3745},
  {76 , 3739},
  {78 , 3733},
  {79 , 3725},
  {81 , 3721},
  {82 , 3714},
  {84 , 3702},
  {85 , 3692},
  {87 , 3678},
  {88 , 3674},
  {90 , 3672},
  {91 , 3670},
  {93 , 3668},
  {94 , 3662},
  {96 , 3636},
  {97 , 3578},
  {99 , 3491},
  {100, 3357},
  {100, 3266},
  {100, 3260},
  {100, 3257},
  {100, 3256},
  {100, 3254},
  {100, 3254},
  {100, 3254},
  {100, 3253},
  {100, 3253},
  {100, 3253}
};              
#endif

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
#ifdef BATTERY_CAPACITY_1350
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
    {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};   
#elif defined(BATTERY_CAPACITY_2000)
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
    {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};  

#else
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	  {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	  {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0}
};    
#endif
/////////////////////////////////////////////////////////////////////
// <Rbat, Battery_Voltage> Table
/////////////////////////////////////////////////////////////////////
typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

// T0 -10C
#ifdef BATTERY_CAPACITY_1350
R_PROFILE_STRUC r_profile_t0[] =
{
	{385  , 4167},	
	{385  , 4150},	
	{415  , 4123},	
	{425  , 4093},	
	{438  , 4061},	
	{508  , 4019},	
	{710  , 3978},	
	{783  , 3963},	
	{795  , 3951},	
	{800  , 3940},	
	{803  , 3929},	
	{798  , 3916},	
	{795  , 3903},	
	{790  , 3889},	
	{788  , 3877},	
	{793  , 3867},	
	{793  , 3857},	
	{795  , 3849},	
	{800  , 3842},	
	{803  , 3834},	
	{810  , 3828},	
	{818  , 3822},	
	{823  , 3815},	
	{830  , 3810},	
	{835  , 3805},	
	{843  , 3800},	
	{848  , 3795},	
	{855  , 3791},	
	{858  , 3786},	
	{863  , 3783},	
	{865  , 3780},	
	{868  , 3775},	
	{870  , 3770},	
	{878  , 3764},	
	{880  , 3757},	
	{885  , 3748},	
	{890  , 3737},	
	{900  , 3727},	
	{913  , 3718},	
	{933  , 3712},	
	{965  , 3707},	
	{1005 , 3703},	
	{1055 , 3698},	
	{1120 , 3688},	
	{1178 , 3671},	
	{1140 , 3655},	
	{1103 , 3640},	
	{1075 , 3628},	
	{1050 , 3617},	
	{1028 , 3609},	
	{1010 , 3602},	
	{1000 , 3597},	
	{985  , 3592},	
	{973,   3588},	
	{968  , 3585},	
	{958  , 3582},	
	{953  , 3580},	
	{953  , 3578},	
	{940  , 3575},	
	{940  , 3573},	
	{945  , 3571},	
	{928  , 3570},	
	{930  , 3568}	
};
#elif defined(BATTERY_CAPACITY_2000)
R_PROFILE_STRUC r_profile_t0[] =
{
	  {268, 4177},
	  {268, 4162},
	  {280, 4148},
	  {285, 4124},
	  {323, 4084},
	  {403, 4053},
	  {470, 4025},
	  {513, 4001},
	  {535, 3986},
	  {545, 3975},
	  {550, 3965},
	  {555, 3955},
	  {555, 3944},
	  {555, 3932},
	  {555, 3920},
	  {548, 3907},
	  {543, 3894},
	  {543, 3884},
	  {543, 3874},
	  {545, 3865},
	  {545, 3857},
	  {548, 3849},
	  {553, 3842},
	  {555, 3836},
	  {558, 3829},
	  {560, 3824},
	  {565, 3819},
	  {570, 3813},
	  {568, 3807},
	  {575, 3802},
	  {578, 3797},
	  {578, 3791},
	  {585, 3787},
	  {588, 3782},
	  {588, 3776},
	  {590, 3772},
	  {598, 3768},
	  {595, 3762},
	  {598, 3756},
	  {603, 3751},
	  {600, 3744},
	  {600, 3736},
	  {608, 3729},
	  {610, 3721},
	  {618, 3714},
	  {633, 3708},
	  {658, 3703},
	  {683, 3692},
	  {703, 3672},
	  {718, 3634},
	  {738, 3570},
	  {750, 3499},
	  {683, 3472},
	  {648, 3458},
	  {625, 3450},
	  {613, 3444},
	  {603, 3439},
	  {595, 3436},
	  {588, 3433},
	  {580, 3430},
	  {578, 3428},
	  {575, 3427},
	  {575, 3426},
	  {575, 3424},
	  {575, 3423},
	  {560, 3422},
	  {570, 3421},
	  {553, 3419},
	  {560, 3418},
	  {555, 3400}
};

#else
R_PROFILE_STRUC r_profile_t0[] =
{
	{333    ,  4165},
	{333    ,  4138},
	{360    ,  4116},
	{373    ,  4099},
	{380    ,  4086},
	{383    ,  4073},
	{388    ,  4058},
	{393    ,  4042},
	{398    ,  4027},
	{405    ,  4013},
	{405    ,  4000},
	{410    ,  3989},
	{415    ,  3981},
	{418    ,  3972},
	{420    ,  3963},
	{425    ,  3955},
	{428    ,  3944},
	{433    ,  3936},
	{428    ,  3926},
	{428    ,  3915},
	{428    ,  3904},
	{415    ,  3891},
	{405    ,  3878},
	{398    ,  3867},
	{400    ,  3858},
	{398    ,  3848},
	{390    ,  3840},
	{393    ,  3833},  
	{395    ,  3828}, 
	{398    ,  3823},
	{398    ,  3816},
	{398    ,  3811},  
	{403    ,  3807},
	{408    ,  3803},
	{413    ,  3801},
	{415    ,  3797},
	{420    ,  3795},
	{420    ,  3791},
	{423    ,  3788},
	{425    ,  3787},
	{425    ,  3784},
	{430    ,  3783},
	{438    ,  3782},
	{440    ,  3781},
	{448    ,  3780},
	{445    ,  3777},
	{450    ,  3773},
	{450    ,  3769},
  {455    ,  3764},
  {458    ,  3758},
  {463    ,  3749},
  {465    ,  3740},
  {468    ,  3730},
  {470    ,  3719},
  {475    ,  3713},
  {490    ,  3708},
  {503    ,  3703},
  {530    ,  3701},
  {578    ,  3698},
  {638    ,  3688},
  {700    ,  3655},
  {828    ,  3587},
  {835    ,  3534},
  {760    ,  3502},
  {700    ,  3479},
  {655    ,  3461},
  {620    ,  3446},
  {595    ,  3436},
  {578    ,  3429},
  {563    ,  3421},
  {550    ,  3417},
  {533    ,  3411},
  {523    ,  3407},
  {523    ,  3406},
  {518    ,  3403},
  {505    ,  3401},
  {505    ,  3399}
};
#endif

// T1 0C
#ifdef BATTERY_CAPACITY_1350
R_PROFILE_STRUC r_profile_t1[] =
{
	{288 , 4173},	
	{288 , 4152},	
	{295 , 4113},	
	{428 , 4076},	
	{505 , 4051},	
	{525 , 4026},	
	{530 , 4006},	
	{535 , 3989},	
	{535 , 3976},	
	{543 , 3967},	
	{545 , 3958},	
	{550 , 3950},	
	{548 , 3939},	
	{543 , 3927},	
	{538 , 3914},	
	{530 , 3899},	
	{525 , 3886},	
	{518 , 3873},	
	{515 , 3862},	
	{513 , 3852},	
	{513 , 3843},	
	{515 , 3836},	
	{518 , 3828},	
	{520 , 3822},	
	{523 , 3816},	
	{528 , 3811},	
	{530 , 3806},	
	{530 , 3800},	
	{535 , 3797},	
	{543 , 3793},	
	{540 , 3789},	
	{548 , 3787},	
	{548 , 3785},	
	{553 , 3784},	
	{558 , 3784},	
	{560 , 3782},	
	{563 , 3781},	
	{565 , 3778},	
	{570 , 3776},	
	{575 , 3774},	
	{580 , 3770},	
	{588 , 3765},	
	{588 , 3758},	
	{598 , 3751},	
	{608 , 3742},	
	{620 , 3731},	
	{630 , 3716},	
	{655 , 3706},	
	{685 , 3698},	
	{740 , 3691},	
	{810 , 3680},	
	{895 , 3665},	
	{963 , 3636},	
	{1003, 3601},	
	{960 , 3583},	
	{928 , 3570},	
	{908 , 3561},	
	{890 , 3554},	
	{875 , 3548},	
	{865 , 3544},	
	{855 , 3540},	
	{840 , 3536},	
	{838 , 3533}	
};
#elif defined(BATTERY_CAPACITY_2000)
R_PROFILE_STRUC r_profile_t1[] =
{
	  {225, 4172},
	  {225, 4144},
	  {245, 4117},
	  {270, 4094},
	  {293, 4078},
	  {303, 4061},
	  {305, 4041},
	  {313, 4023},
	  {315, 4006},
	  {320, 3995},
	  {325, 3986},
	  {333, 3978},
	  {338, 3970},
	  {338, 3961},
	  {338, 3951},
	  {343, 3943},
	  {345, 3934},
	  {348, 3925},
	  {348, 3916},
	  {345, 3906},
	  {340, 3895},
	  {335, 3884},
	  {330, 3872},
	  {323, 3861},
	  {320, 3852},
	  {313, 3842},
	  {315, 3836},
	  {313, 3829},
	  {318, 3824},
	  {320, 3819},
	  {320, 3813},
	  {318, 3807},
	  {323, 3804},
	  {328, 3800},
	  {328, 3797},
	  {333, 3794},
	  {335, 3791},
	  {333, 3787},
	  {338, 3785},
	  {340, 3783},
	  {338, 3780},
	  {340, 3778},
	  {340, 3775},
	  {345, 3774},
	  {343, 3771},
	  {343, 3768},
	  {345, 3765},
	  {343, 3761},
	  {343, 3757},
	  {348, 3753},
	  {348, 3748},
	  {348, 3742},
	  {350, 3736},
	  {353, 3730},
	  {350, 3722},
	  {353, 3714},
	  {353, 3705},
	  {363, 3700},
	  {385, 3697},
	  {418, 3691},
	  {448, 3676},
	  {478, 3636},
	  {560, 3571},
	  {730, 3491},
	  {640, 3455},
	  {583, 3431},
	  {533, 3413},
	  {503, 3400},
	  {480, 3400},
	  {468, 3400}
};
#else
R_PROFILE_STRUC r_profile_t1[] =
{
	{228    ,  4177},
	{228    ,  4157},
	{238    ,  4142},
	{235    ,  4125},
	{240    ,  4111},
	{243    ,  4097},
	{243    ,  4085},
	{245    ,  4073},
	{248    ,  4060},
	{253    ,  4046},
	{253    ,  4031},
	{258    ,  4018},
	{263    ,  4005},
	{263    ,  3994},
	{270    ,  3986},
	{273    ,  3978},
	{275    ,  3968},
	{275    ,  3958},
	{285    ,  3951},
	{288    ,  3941},
	{285    ,  3932},
	{285    ,  3922},
	{285    ,  3912},
	{285    ,  3902},
	{278    ,  3890},
	{268    ,  3876},
	{255    ,  3863},
	{255    ,  3853},  
	{253    ,  3846}, 
	{250    ,  3837},
	{248    ,  3830},
	{245    ,  3824},  
	{250    ,  3818},
	{250    ,  3813},
	{248    ,  3808},
	{253    ,  3805},
	{255    ,  3800},
	{255    ,  3798},
	{255    ,  3793},
	{260    ,  3791},
	{260    ,  3788},
	{265    ,  3787},
	{263    ,  3784},
	{268    ,  3783},
	{268    ,  3781},
	{273    ,  3780},
	{273    ,  3780},
	{273    ,  3778},
  {275    ,  3776},
  {273    ,  3772},
  {268    ,  3766},
  {270    ,  3761},
  {265    ,  3752},
  {265    ,  3744},
  {265    ,  3733},
  {270    ,  3723},
  {270    ,  3711},
  {268    ,  3704},
  {275    ,  3701},
  {278    ,  3699},
  {293    ,  3697},
  {313    ,  3693},
  {325    ,  3677},
  {328    ,  3623},
  {365    ,  3538},
  {478    ,  3407},
  {408    ,  3362},
  {348    ,  3338},
  {320    ,  3327},
  {298    ,  3319},
  {293    ,  3316},
  {280    ,  3312},
  {280    ,  3311},
  {275    ,  3309},
  {280    ,  3309},
  {280    ,  3307},
  {270    ,  3305}
}; 
#endif

// T2 25C
#ifdef BATTERY_CAPACITY_1350
R_PROFILE_STRUC r_profile_t2[] =
{
	{185, 4182},	
	{185, 4165},	
	{185, 4149},	
	{190, 4134},	
	{193, 4119},	
	{193, 4104},	
	{198, 4091},	
	{200, 4079},	
	{205, 4068},	
	{208, 4055},	
	{213, 4038},	
	{210, 4020},	
	{215, 4006},	
	{218, 3994},	
	{220, 3984},	
	{225, 3974},	
	{220, 3964},	
	{215, 3952},	
	{215, 3941},	
	{228, 3928},	
	{225, 3914},	
	{215, 3899},	
	{205, 3884},	
	{198, 3871},	
	{195, 3860},	
	{190, 3850},	
	{193, 3842},	
	{188, 3833},	
	{190, 3826},	
	{193, 3820},	
	{193, 3814},	
	{190, 3807},	
	{193, 3803},	
	{195, 3798},	
	{195, 3793},	
	{195, 3788},	
	{198, 3786},	
	{198, 3782},	
	{195, 3778},	
	{198, 3776},	
	{200, 3775},	
	{198, 3773},	
	{200, 3771},	
	{198, 3768},	
	{200, 3766},	
	{198, 3762},	
	{193, 3756},	
	{195, 3751},	
	{193, 3744},	
	{198, 3738},	
	{198, 3728},	
	{198, 3716},	
	{198, 3702},	
	{193, 3690},	
	{203, 3688},	
	{208, 3683},	
	{215, 3675},	
	{235, 3660},	
	{260, 3634},	
	{285, 3596},	
	{300, 3544},	
	{288, 3454},	
	{293, 3400}
};
#elif defined(BATTERY_CAPACITY_2000)
R_PROFILE_STRUC r_profile_t2[] =
{
	  {138, 4183},
	  {138, 4164},
	  {140, 4148},
	  {140, 4133},
	  {140, 4118},
	  {140, 4104},
	  {143, 4091},
	  {143, 4078},
	  {145, 4066},
	  {145, 4053},
	  {148, 4040},
	  {148, 4026},
	  {150, 4014},
	  {153, 4003},
	  {155, 3993},
	  {158, 3983},
	  {158, 3973},
	  {160, 3964},
	  {165, 3955},
	  {165, 3945},
	  {165, 3936},
	  {170, 3928},
	  {170, 3919},
	  {173, 3911},
	  {170, 3901},
	  {173, 3892},
	  {168, 3881},
	  {158, 3867},
	  {153, 3856},
	  {148, 3846},
	  {143, 3837},
	  {143, 3831},
	  {143, 3824},
	  {143, 3819},
	  {140, 3813},
	  {143, 3809},
	  {143, 3804},
	  {143, 3800},
	  {143, 3796},
	  {143, 3793},
	  {145, 3790},
	  {148, 3787},
	  {150, 3784},
	  {148, 3781},
	  {150, 3779},
	  {153, 3777},
	  {153, 3775},
	  {153, 3773},
	  {148, 3769},
	  {143, 3763},
	  {145, 3759},
	  {140, 3753},
	  {140, 3748},
	  {143, 3744},
	  {143, 3739},
	  {145, 3735},
	  {145, 3729},
	  {145, 3723},
	  {143, 3715},
	  {150, 3710},
	  {148, 3701},
	  {143, 3691},
	  {148, 3687},
	  {155, 3685},
	  {163, 3680},
	  {165, 3665},
	  {168, 3620},
	  {178, 3551},
	  {185, 3446},
	  {225, 3400}
};
#else
R_PROFILE_STRUC r_profile_t2[] =
{
	{173    ,  4189},
	{138    ,  4171},
	{143    ,  4157},
	{140    ,  4142},
	{143    ,  4127},
	{143    ,  4113},
	{145    ,  4100},
	{145    ,  4086},
	{148    ,  4073},
	{148    ,  4061},
	{153    ,  4049},
	{153    ,  4036},
	{153    ,  4024},
	{155    ,  4013},
	{158    ,  4003},
	{158    ,  3992},
	{153    ,  3980},
	{163    ,  3972},
	{165    ,  3962},
	{165    ,  3952},
	{170    ,  3943},
	{173    ,  3934},
	{173    ,  3926},
	{178    ,  3917},
	{180    ,  3908},
	{183    ,  3900},
	{178    ,  3887},
	{170    ,  3873},  
	{160    ,  3860}, 
	{153    ,  3847},
	{150    ,  3839},
	{148    ,  3832},  
	{150    ,  3826},
	{148    ,  3820},
	{145    ,  3813},
	{150    ,  3809},
	{150    ,  3804},
	{150    ,  3800},
	{155    ,  3797},
	{155    ,  3793},
	{153    ,  3789},
	{158    ,  3787},
	{158    ,  3784},
	{160    ,  3782},
	{158    ,  3778},
	{160    ,  3777},
	{160    ,  3774},
	{158    ,  3771},
  {155    ,  3767},
  {153    ,  3764},
  {148    ,  3758},
  {150    ,  3753},
  {148    ,  3747},
  {150    ,  3740},
  {153    ,  3734},
  {150    ,  3723},
  {145    ,  3713},
  {153    ,  3701},
  {148    ,  3690},
  {148    ,  3688},
  {150    ,  3686},
  {160    ,  3685},
  {158    ,  3680},
  {158    ,  3668},
  {165    ,  3626},
  {178    ,  3557},
  {193    ,  3454},
  {233    ,  3292},
  {170    ,  3268},
  {155    ,  3261},
  {143    ,  3257},
  {143    ,  3257},
  {143    ,  3256},
  {143    ,  3256},
  {143    ,  3256},
  {145    ,  3254},
  {138    ,  3253}
}; 
#endif

// T3 50C
#ifdef BATTERY_CAPACITY_1350
R_PROFILE_STRUC r_profile_t3[] =
{
	{150, 4184},	
	{150, 4167},	
	{150, 4151},	
	{150, 4135},	
	{150, 4120},	
	{150, 4105},	
	{153, 4091},	
	{155, 4077},	
	{158, 4064},	
	{158, 4051},	
	{160, 4038},	
	{160, 4024},	
	{160, 4011},	
	{163, 4000},	
	{165, 3989},	
	{168, 3978},	
	{168, 3966},	
	{170, 3956},	
	{170, 3945},	
	{178, 3936},	
	{178, 3926},	
	{180, 3917},	
	{185, 3908},	
	{188, 3899},	
	{193, 3891},	
	{195, 3882},	
	{200, 3874},	
	{203, 3866},	
	{200, 3856},	
	{195, 3845},	
	{178, 3831},	
	{168, 3819},	
	{155, 3808},	
	{153, 3800},	
	{153, 3794},	
	{153, 3789},	
	{150, 3784},	
	{153, 3780},	
	{153, 3776},	
	{158, 3774},	
	{155, 3771},	
	{155, 3769},	
	{158, 3768},	
	{160, 3767},	
	{160, 3766},	
	{163, 3766},	
	{168, 3766},	
	{168, 3765},	
	{168, 3764},	
	{170, 3763},	
	{163, 3759},	
	{153, 3751},	
	{155, 3747},	
	{163, 3744},	
	{165, 3740},	
	{165, 3733},	
	{163, 3724},	
	{168, 3714},	
	{170, 3699},	
	{170, 3677},	
	{173, 3651},	
	{173, 3622},	
	{213, 3400}
};
#elif defined(BATTERY_CAPACITY_2000)
R_PROFILE_STRUC r_profile_t3[] =
{
  {110, 4189},
  {110, 4170},
  {118, 4155},
  {115, 4139},
  {115, 4124},
  {115, 4110},
  {115, 4097},
  {115, 4083},
  {118, 4071},
  {118, 4058},
  {120, 4046},
  {120, 4033},
  {120, 4021},
  {123, 4010},
  {123, 3999},
  {123, 3988},
  {125, 3978},
  {123, 3967},
  {125, 3958},
  {125, 3948},
  {128, 3939},
  {130, 3930},
  {133, 3922},
  {135, 3913},
  {138, 3905},
  {138, 3896},
  {140, 3887},
  {133, 3875},
  {128, 3861},
  {120, 3848},
  {120, 3839},
  {120, 3832},
  {118, 3825},
  {118, 3820},
  {118, 3813},
  {118, 3809},
  {118, 3804},
  {120, 3800},
  {118, 3795},
  {120, 3792},
  {120, 3788},
  {120, 3784},
  {123, 3782},
  {123, 3779},
  {128, 3777},
  {128, 3774},
  {125, 3771},
  {130, 3769},
  {125, 3763},
  {115, 3754},
  {115, 3746},
  {118, 3741},
  {118, 3736},
  {115, 3730},
  {120, 3726},
  {120, 3722},
  {120, 3717},
  {125, 3712},
  {120, 3704},
  {120, 3697},
  {120, 3690},
  {120, 3681},
  {118, 3673},
  {125, 3672},
  {128, 3668},
  {138, 3660},
  {130, 3631},
  {138, 3577},
  {143, 3500},
  {155, 3400}
};
#else
R_PROFILE_STRUC r_profile_t3[] =
{
	{170    ,  4189},
	{140    ,  4174},
	{135    ,  4158},
	{145    ,  4144},
	{145    ,  4130},
	{143    ,  4115},
	{140    ,  4100},
	{140    ,  4087},
	{140    ,  4073},
	{138    ,  4060},
	{148    ,  4049},
	{140    ,  4035},
	{140    ,  4023},
	{148    ,  4012},
	{148    ,  4002},
	{150    ,  3991},
	{153    ,  3980},
	{153    ,  3970},
	{150    ,  3959},
	{150    ,  3949},
	{150    ,  3939},
	{160    ,  3932},
	{158    ,  3922},
	{163    ,  3915},
	{163    ,  3905},
	{170    ,  3898},
	{168    ,  3886},
	{160    ,  3872},  
	{158    ,  3859}, 
	{148    ,  3846},
	{148    ,  3838},
	{145    ,  3830},  
	{148    ,  3824},
	{145    ,  3817},
	{145    ,  3812},
	{148    ,  3808},
	{150    ,  3803},
	{143    ,  3797},
	{145    ,  3794},
	{148    ,  3791},
	{148    ,  3786},
	{153    ,  3784},
	{155    ,  3781},
	{155    ,  3778},
	{158    ,  3774},
	{160    ,  3772},
	{153    ,  3765},
	{148    ,  3755},
  {150    ,  3750},
  {150    ,  3745},
  {148    ,  3739},
  {148    ,  3733},
  {140    ,  3725},
  {145    ,  3721},
  {148    ,  3714},
  {140    ,  3702},
  {145    ,  3692},
  {143    ,  3678},
  {145    ,  3674},
  {145    ,  3672},
  {148    ,  3670},
  {150    ,  3668},
  {150    ,  3662},
  {150    ,  3636},
  {158    ,  3578},
  {153    ,  3491},
  {165    ,  3357},
  {168    ,  3266},
  {153    ,  3260},
  {143    ,  3257},
  {143    ,  3256},
  {140    ,  3254},
  {140    ,  3254},
  {138    ,  3254},
  {138    ,  3253},
  {135    ,  3253},
  {138    ,  3253}
}; 
#endif

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
#ifdef BATTERY_CAPACITY_1350
R_PROFILE_STRUC r_profile_temperature[] =
{	
    {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};  
#elif defined(BATTERY_CAPACITY_2000)
R_PROFILE_STRUC r_profile_temperature[] =
{	
    {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0	, 0 },
	{0	, 0 },
	{0	, 0 },
	{0	, 0 },
	{0	, 0 },
	{0	, 0 },
	{0	, 0 }
};  
#else
R_PROFILE_STRUC r_profile_temperature[] =
{	
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	  {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	  {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0}
};     
#endif

int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);
